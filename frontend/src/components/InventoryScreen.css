/* --- Media Query para Mobile --- */
@media (max-width: 768px) {
    .inventory-content { padding: 1rem; }
    .table-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }
    .inventory-table { min-width: 600px; }
    
    .modal-content {
        padding: 1rem;
        max-height: 95vh;
        width: 95vw;
        max-width: 95vw;
    }
    
    .modal-body {
        flex-direction: column;
    }

    .modal-image-container, .modal-image {
        width: 100%;
        height: auto;
        flex-shrink: 0; /* Garante que a área da imagem não seja esmagada */
    }

    .modal-image img {
        max-height: 250px;
        object-fit: contain;
    }

    .edit-form-grid {
        grid-template-columns: 1fr;
    }

    /* CORREÇÃO FINAL DA ROLAGEM AQUI */
    .modal-details {
        flex: 1; /* Permite que a área de detalhes cresça para preencher o espaço */
        min-height: 0; /* Truque de CSS para permitir que o flex item encolha e ative a rolagem */
        overflow-y: auto;   /* A rolagem agora acontece APENAS na área dos detalhes */
        padding-right: 0.5rem; /* Pequeno espaço para a barra de rolagem */
    }
    
    .modal-footer {
        margin-top: auto; /* Garante que o rodapé fique no final */
        flex-shrink: 0; /* Impede que o rodapé encolha */
    }
}